CREATE EXTERNAL TABLE IF NOT EXISTS aws_costs.cost_usage_reports(
`identity_lineitemid` string,
`identity_timeinterval` string,
`bill_invoiceid` string,
`bill_billingentity` string,
`bill_billtype` string,
`bill_payeraccountid` string,
`bill_billingperiodstartdate` string,
`bill_billingperiodenddate` string,
`lineitem_usageaccountid` string,
`lineitem_lineitemtype` string,
`lineitem_usagestartdate` string,
`lineitem_usageenddate` string,
`lineitem_productcode` string,
`lineitem_usagetype` string,
`lineitem_operation` string,
`lineitem_availabilityzone` string,
`lineitem_resourceid` string,
`lineitem_usageamount` string,
`lineitem_normalizationfactor` string,
`lineitem_normalizedusageamount` string,
`lineitem_currencycode` string,
`lineitem_unblendedrate` string,
`lineitem_unblendedcost` string,
`lineitem_blendedrate` string,
`lineitem_blendedcost` string,
`lineitem_lineitemdescription` string,
`lineitem_taxtype` string,
`product_productname` string,
`product_alarmtype` string,
`product_availability` string,
`product_cacheengine` string,
`product_clockspeed` string,
`product_currentgeneration` string,
`product_databaseengine` string,
`product_dedicatedebsthroughput` string,
`product_deploymentoption` string,
`product_description` string,
`product_durability` string,
`product_ecu` string,
`product_endpointtype` string,
`product_enginecode` string,
`product_enhancednetworkingsupported` string,
`product_feecode` string,
`product_feedescription` string,
`product_freequerytypes` string,
`product_fromlocation` string,
`product_fromlocationtype` string,
`product_gpu` string,
`product_group` string,
`product_groupdescription` string,
`product_instancefamily` string,
`product_instancetype` string,
`product_instancetypefamily` string,
`product_licensemodel` string,
`product_location` string,
`product_locationtype` string,
`product_maxiopsburstperformance` string,
`product_maxiopsvolume` string,
`product_maxthroughputvolume` string,
`product_maxvolumesize` string,
`product_maximumextendedstorage` string,
`product_memory` string,
`product_memorygib` string,
`product_messagedeliveryfrequency` string,
`product_messagedeliveryorder` string,
`product_minvolumesize` string,
`product_networkperformance` string,
`product_normalizationsizefactor` string,
`product_operatingsystem` string,
`product_operation` string,
`product_physicalprocessor` string,
`product_preinstalledsw` string,
`product_processorarchitecture` string,
`product_processorfeatures` string,
`product_productfamily` string,
`product_provisioned` string,
`product_queuetype` string,
`product_region` string,
`product_requestdescription` string,
`product_requesttype` string,
`product_routingtarget` string,
`product_routingtype` string,
`product_servicecode` string,
`product_servicename` string,
`product_sku` string,
`product_standardstorageretentionincluded` string,
`product_storage` string,
`product_storageclass` string,
`product_storagemedia` string,
`product_tenancy` string,
`product_tolocation` string,
`product_tolocationtype` string,
`product_transfertype` string,
`product_usagetype` string,
`product_vcpu` string,
`product_version` string,
`product_volumetype` string,
`pricing_publicondemandcost` string,
`pricing_publicondemandrate` string,
`reservation_amortizedupfrontcostforusage` string,
`reservation_amortizedupfrontfeeforbillingperiod` string,
`reservation_effectivecost` string,
`reservation_endtime` string,
`reservation_modificationstatus` string,
`reservation_normalizedunitsperreservation` string,
`reservation_numberofreservations` string,
`reservation_recurringfeeforusage` string,
`reservation_reservationarn` string,
`reservation_starttime` string,
`reservation_totalreservednormalizedunits` string,
`reservation_totalreservedunits` string,
`reservation_unitsperreservation` string,
`reservation_unusedamortizedupfrontfeeforbillingperiod` string,
`reservation_unusednormalizedunitquantity` string,
`reservation_unusedquantity` string,
`reservation_unusedrecurringfee` string,
`reservation_upfrontvalue` string,
`resourcetags_aws_autoscaling_groupname` string,
`resourcetags_aws_cloudformation_logical-id` string,
`resourcetags_aws_cloudformation_stack-id` string,
`resourcetags_aws_cloudformation_stack-name` string,
`resourcetags_aws_createdby` string,
`resourcetags_user_environment` string,
`resourcetags_user_name` string,
`resourcetags_user_project` string,
`resourcetags_user_device` string,
`resourcetags_user_enviroment` string,
`resourcetags_user_environment_2` string,
`resourcetags_user_instance_id` string,
`resourcetags_user_name_2` string,
`resourcetags_user_project_2` string,
`resourcetags_user_test` string,
`resourcetags_user_workload-type` string
)
PARTITIONED BY (dt string)
ROW FORMAT SERDE 'org.apache.hadoop.hive.serde2.OpenCSVSerde'
WITH SERDEPROPERTIES (
'separatorChar' = ',',
'quoteChar' = '\"',
'escapeChar' = '\\'
)
LOCATION 's3://qt-awscostice/qt/hdfs/cur/'
TBLPROPERTIES (
'has_encrypted_data'='false', 
'skip.header.line.count'='1'
);
